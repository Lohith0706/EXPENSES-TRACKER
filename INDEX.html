<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Expense Tracker (Vanilla JS)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="app">
    <header class="top">
      <div>
        <h1>Expense Tracker</h1>
        <p class="muted">HTML • CSS • JavaScript (localStorage)</p>
      </div>

      <button id="clearAllBtn" class="btn btn-danger" type="button" title="Remove all saved data">
        Clear all
      </button>
    </header>

    <section class="grid">
      <div class="card">
        <div class="label">Balance</div>
        <div id="balanceEl" class="value">₹0</div>
      </div>
      <div class="card">
        <div class="label">Income</div>
        <div id="incomeEl" class="value income">₹0</div>
      </div>
      <div class="card">
        <div class="label">Expense</div>
        <div id="expenseEl" class="value expense">₹0</div>
      </div>
    </section>

    <section class="panel">
      <h2>Add transaction</h2>

      <form id="txForm" class="form">
        <div class="row">
          <label>
            Type
            <select id="type" required>
              <option value="expense" selected>Expense</option>
              <option value="income">Income</option>
            </select>
          </label>

          <label>
            Amount
            <input id="amount" type="number" inputmode="decimal" min="0.01" step="0.01" placeholder="e.g. 120" required />
          </label>
        </div>

        <div class="row">
          <label>
            Category
            <select id="category" required>
              <option value="Food">Food</option>
              <option value="Travel">Travel</option>
              <option value="Shopping">Shopping</option>
              <option value="Bills">Bills</option>
              <option value="Health">Health</option>
              <option value="Education">Education</option>
              <option value="Other" selected>Other</option>
            </select>
          </label>

          <label>
            Date
            <input id="date" type="date" required />
          </label>
        </div>

        <label>
          Note (optional)
          <input id="note" type="text" maxlength="60" placeholder="e.g. Tea + snacks" />
        </label>

        <button class="btn btn-primary" type="submit">Add</button>
        <p id="formMsg" class="msg" aria-live="polite"></p>
      </form>
    </section>

    <section class="panel">
      <div class="panel-head">
        <h2>History</h2>

        <div class="filters">
          <input id="search" type="search" placeholder="Search note/category…" />
          <select id="monthFilter" title="Filter by month">
            <option value="all" selected>All months</option>
          </select>
          <select id="typeFilter" title="Filter by type">
            <option value="all" selected>All</option>
            <option value="income">Income</option>
            <option value="expense">Expense</option>
          </select>
        </div>
      </div>

      <div class="tableWrap">
        <table class="table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Type</th>
              <th>Category</th>
              <th>Note</th>
              <th class="right">Amount</th>
              <th class="right">Action</th>
            </tr>
          </thead>
          <tbody id="txTbody">
            <!-- rows injected by JS -->
          </tbody>
        </table>
      </div>

      <p id="emptyState" class="muted">No transactions yet. Add your first one above.</p>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>